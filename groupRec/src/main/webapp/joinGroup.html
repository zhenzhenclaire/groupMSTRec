<!DOCTYPE HTML>
<html>
<head>
<title>Join Group</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Eatery Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.min.js"></script>
<!-- Custom Theme files -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<!-- Custom Theme files -->
<link href="css/bootstrap-datetimepicker.css" rel='stylesheet' type='text/css' />

</head>
<body>
<!--banner-->
	<div class="about_banner">
		<!--header-->
		<div class="headder">
			<div class="container">				
				<nav class="navbar navbar-default">
					<div class="container-fluid">
					<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="index.html"> <img src="images/logo.png" alt=""/> </a>
						</div>
						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">
								<li><a href="index.html">Home</a></li>
								<li><a href="login.html" class="active">Log out</a></li>
							</ul>	
						</div>	
						<div class="clearfix"> </div>
					</div>	
				</nav>				
			</div>	
		</div>	
	</div>
<!--//banner-->
<div class="about_top">
	<div class="container">
	   <div class="contact-form">
				<div class="col-md-6 contact-grid">
					<h3>Join group</h3>
					<form>
						<p class="your-para">Group ID</p>
						<input id="groupID" type="text" value="" onfocus="this.value='';" onblur="if (this.value == '') {this.value ='';}">
						<p class="your-para">Departure time</p>
						<div class="form-group">
							<div class="input-group date form_datetime" data-date="" data-date-format="yyyy-mm-dd hh:ii:ss" data-link-field="departureTime">
			                    <input type="text" value="" readonly />
			                    <span class="input-group-addon date form_datetime"><span class="glyphicon glyphicon-remove"></span></span>
								<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
	               			</div>
	               		</div>
						<input type="hidden" id="departureTime" value="" />						
						<!-- 
						<input id="departureTime" type="text" value="" onfocus="this.value='';" onblur="if (this.value == '') {this.value ='';}">
						 -->
						<p class="your-para">Mode</p>
						<select id="mode" name="mode">
							<option value="driving">Drive</option>
							<option value="bicycling">Bicycling</option>
							<option value="walking">Walk</option>
						</select>
						<p class="your-para"></p>
						<div class="send">
							<input id="joinGroupButton" type="button" value="Join">
						</div>
					</form>
				</div>
				<div class="col-md-6 contact-in">
					<h3>Group Recommendation</h3>
					<p class="sed-para">
					The Research and Implementation of Large-scale Real-time News Recommendation Algorithm
					
					</p>
					<p class="para1">
					With the development of society, social activities have become an indispensable part of people's lives. However, people in the big cities live far apart, and their preferences will also be different. Busy work make each individual schedules vary a lot. All of these make people encounter a variety of problems when they make the choice of meeting place. The ideal venues should not only be able to meet everyone's preference, but also meet their own time schdules. Therefore, how to satisfy the characteristics of the group to choose a meeting place while considering the above factors has become a focus of research content.
					
					</p>

				</div>
				<div class="clearfix"> </div>
	  </div>
  </div>
</div>
<div class="box_3"> </div>
<div class="footer">
	<div class="container">
		<div class="col-md-6 col_2">
			<!--
		  <ul><li><h5>Tuesday to Friday</h5><p>Lunch: <span>12pm – 03pm</span></p><p>Dinner: <span>05pm – 10pm</span></p></li>
		    <li><h5>Saturday &amp; Sunday</h5><p>Lunch: <span>11pm – 05pm</span></p><p>Dinner: <span>04pm – 11pm</span></p></li>
		  </ul>
			-->
		</div>
		<div class="col-md-6 col_3">
			<div class="col_3">
				<ul class="menu">
					<li><a href="#">Home</a></li> |
					<li><a href="#">Group</a></li> |
					<li><a href="#">Recommendation</a></li>
				</ul>
				<p>Copyright &copy; 2016. All rights reserved.</p>
			</div>
		</div>
		<div class="clearfix"> </div>
	</div>
</div>

<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="js/locales/bootstrap-datetimepicker.ua.js" charset="UTF-8"></script>
<script type="text/javascript">
// Get group ID from REST and show on page
$.ajax({
    type: "GET",
    url: "http://localhost:8080/rec/getGroup",
    contentType: "application/json; charset=utf-8",
    success: function (data) {
        //alert(JSON.stringify(data.groupID));
    	$("#groupInfo").html("Group ID: " + JSON.stringify(data.groupID));
    },
    error: function (message) {
    	alert("Log in failed");
        //$("#request-process-patent").html("Failed");
    }
});

$("#joinGroupButton").click(function() {
    //$("#request-process-patent").html("Submitting...");
    $.ajax({
        type: "POST",
        url: "http://localhost:8080/rec/joinGroup",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(GetJsonData()),
        dataType: "json",
        success: function (result) {
	        //alert("success");
	        //alert(JSON.stringify(result));
        	//alert("isGroupOwner: " + JSON.stringify(result.isGroupOwner));
        	//console.log("isGroupOwner: " + JSON.stringify(result.isGroupOwner));
        	location.href="group.html";
        	
        },
        error: function (message) {
        	alert("Log in failed");
            //$("#request-process-patent").html("Failed");
        }
    });
});

function GetJsonData() {
    var json = {
        "groupID" : $("#groupID").val(),
    	"departureTime": $("#departureTime").val(),
        "mode": $("#mode").val(),
        "user": GetQueryString("user")
        
    };
    //alert("data to submit: " + JSON.stringify(json));
    return json;
}

function GetQueryString(name)
{
     var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
     var r = window.location.search.substr(1).match(reg);
     if(r!=null)return  unescape(r[2]); return null;
}
var today = new Date();
$('.form_datetime').datetimepicker({
    //language:  'fr',
    weekStart: 1,
    todayBtn:  1,
	autoclose: 1,
	todayHighlight: 1,
	startView: 2,
	forceParse: 0,
    showMeridian: 1,
    startDate: today
});
</script>
</body>
</html>		