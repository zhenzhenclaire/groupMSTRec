<!DOCTYPE HTML>
<html>
<head>
<title>Log in</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Eatery Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.min.js"></script>
<!-- Custom Theme files -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<!-- Custom Theme files -->
</head>
<body>
<!--banner-->
	<div class="about_banner">
		<!--header-->
		<div class="headder">
			<div class="container">				
				<nav class="navbar navbar-default">
					<div class="container-fluid">
					<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="index.html"> <img src="images/logo.png" alt=""/> </a>
						</div>
						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">
								<li><a href="index.html">Home</a></li>
								<li><a href="login.html" class="active">Log in</a></li>
							</ul>	
						</div>	
						<div class="clearfix"> </div>
					</div>	
				</nav>				
			</div>	
		</div>	
	</div>
<!--//banner-->
<div class="about_top">
	<div class="container">
	   <div class="contact-form">
				<div class="col-md-6 contact-grid">
					<h3>Log in</h3>
					<form>
						<p class="your-para">Your username:</p>
						<input id="user" type="text" value="" onfocus="this.value='';" onblur="if (this.value == '') {this.value ='';}">
						<p class="your-para">Your password:</p>
						<input id="password" type="password" value="" onfocus="this.value='';" onblur="if (this.value == '') {this.value ='';}">
						<p class="your-para"><input id="isGroupOwner" type="checkbox" value="true"> I'm a group owner.</p>
						    
						
						<p class="your-para"></p>
						<div class="send">
							<input id="loginButton" type="button" value="Send">
						</div>
					</form>
				</div>
				<div class="col-md-6 contact-in">
					<h3>Group Recommendation</h3>
					<p class="sed-para">
					The Research and Implementation of Large-scale Real-time News Recommendation Algorithm
					
					</p>
					<p class="para1">
					With the development of society, social activities have become an indispensable part of people's lives. However, people in the big cities live far apart, and their preferences will also be different. Busy work make each individual schedules vary a lot. All of these make people encounter a variety of problems when they make the choice of meeting place. The ideal venues should not only be able to meet everyone's preference, but also meet their own time schdules. Therefore, how to satisfy the characteristics of the group to choose a meeting place while considering the above factors has become a focus of research content.
					
					</p>
				</div>
				<div class="clearfix"> </div>
	  </div>
  </div>
</div>
<div class="box_3"> </div>
<div class="footer">
	<div class="container">
		<div class="col-md-6 col_2">
			<!--
		  <ul><li><h5>Tuesday to Friday</h5><p>Lunch: <span>12pm – 03pm</span></p><p>Dinner: <span>05pm – 10pm</span></p></li>
		    <li><h5>Saturday &amp; Sunday</h5><p>Lunch: <span>11pm – 05pm</span></p><p>Dinner: <span>04pm – 11pm</span></p></li>
		  </ul>
			-->
		</div>
		<div class="col-md-6 col_3">
			<div class="col_3">
				<ul class="menu">
					<li><a href="#">Home</a></li> |
					<li><a href="#">Group</a></li> |
					<li><a href="#">Recommendation</a></li>
				</ul>
				<p>Copyright &copy; 2016. All rights reserved.</p>
			</div>
		</div>
		<div class="clearfix"> </div>
	</div>
</div>

<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">
	$("#loginButton").click(function() {
    //$("#request-process-patent").html("Submitting...");
    $.ajax({
        type: "POST",
        url: "http://localhost:8080/rec/login",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(GetJsonData()),
        dataType: "json",
        success: function (result) {
	        //alert("success");
	        //alert(JSON.stringify(result));
        	//alert("isGroupOwner: " + JSON.stringify(result.isGroupOwner));
        	//console.log("isGroupOwner: " + JSON.stringify(result.isGroupOwner));
        	if(result.isGroupOwner == "true") {
        		//alert("move to createGroup page");
        		location.href="createGroup.html?user=" + $("#user").val();
        		
        	} else {
        		//alert("move to joinGroup page");
        		location.href="joinGroup.html?user=" + $("#user").val();
        	}
        },
        error: function (message) {
        	alert("Log in failed");
            //$("#request-process-patent").html("Failed");
        }
    });
});

function GetJsonData() {
    var json = {
        "user": $("#user").val(),
        "password": $("#password").val(),
        "isGroupOwner": $("#isGroupOwner").is(':checked')?"true":"false"
        
    };
    //alert("checked: " + $("#isGroupOwner").is(':checked'));
    //alert("data to submit: " + JSON.stringify(json));
    return json;
}
</script>
</body>
</html>		